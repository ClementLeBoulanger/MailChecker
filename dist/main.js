(()=>{"use strict";class e{constructor(e,t){this.input=e,this.functionArray=t}get globalscore(){let e=0;return this.functionArray.forEach((t=>{e+=t(this.input).score})),e}get detailscores(){let e=[];return this.functionArray.forEach((t=>{e.push(t(this.input))})),e}}const t=[e=>{let t,r=e.split(/\b\w+\b/).length-1;return t=r>=6?{label:"Number of word",score:0,advice:"The number of words is too high, prefer a number of words between 1 and 4 !"}:r>=4?{label:"Number of word",score:1,advice:"The number of words is too high, prefer a number of words between 1 and 4 !"}:0===r?{label:"Number of word",score:0,advice:"No email subject !"}:{label:"Number of word",score:2,advice:"Good job ! The length of your email subject is optimised ! "},t},e=>{let t,r=e.split(/[\+?{}.!]/).length-1;return r>1?t={label:"Special character",score:0,advice:"Too many special characters! The ideal is not to use any."}:0===r?t={label:"Special character",score:2,advice:"No special characters, great !"}:1===r&&(t={label:"Special character",score:1,advice:"Too many special characters! The ideal is not to use any."}),t},e=>{let t={label:"Start with capital letter",score:2,advice:"Good job, your email title doesn't start with a capital letter."};return/[A-Z]/.test(e.charAt(0))&&(t={label:"Start with capital letter",score:0,advice:"Your email title should not start with a capital letter"}),t}],r=[e=>{let t,r=e.split(/[\u2022,\u2023,\u2043,\u2219]/).length-1;return 0===r?t={label:"Bullet Point",score:0,advice:"You don't use bullet point, Use it !"}:1===r?t={label:"Bullet Point",score:1,advice:"You use one bullet point, Use more !"}:r>1&&(t={label:"Bullet Point",score:2,advice:"You use more than one bullet point, Good !"}),t},e=>{let t,r=e.split(/\n{2}/).length;return r>=3&&r<=7?t={label:"Number of paragraph",score:2,advice:"Your email has the right number of paragraphs."}:r>7&&r<10?t={label:"Number of paragraph",score:1,advice:"Your email should contain between 3 and 7 paragraphs."}:(r>10||r<3)&&(t={label:"Number of paragraph",score:0,advice:"Your email should contain between 3 and 7 paragraphs."}),t},e=>{let t;return t=/^.*\n{1}.*[?]+/.test(e)?{label:"Question in second line",score:0,advice:"The second line of your email should not be a question."}:{label:"Question in second line",score:2,advice:"No question in the second line, it's good !"},t},e=>{let t,r=e.length;return t=r>1e3?{label:"Number of character",score:0,advice:"Your email contains too many characters. Reduce them below 400."}:r<300?{label:"Number of character",score:0,advice:"Your email does not contain enough characters. Increase them above 300"}:r>300&&r<400?{label:"Number of character",score:2,advice:"Your email has the right number of characters (between 300 and 400)."}:{label:"Number of character",score:1,advice:"The length of your mail can be optimised. Try between 300 and 400 characters."},t}],a=2*(t.length+r.length),o=()=>document.querySelector(".subject-input").value,l=()=>document.querySelector(".body-input").value,c=e=>{let t;return t=2===e.score?`<div class="marker shadow green d-flex align-items-center justify-content-center">${e.score}</div>`:1===e.score?`<div class="marker shadow orange d-flex align-items-center justify-content-center">${e.score}</div>`:`<div class="marker shadow red d-flex align-items-center justify-content-center">${e.score}</div>`,t},n=e=>{document.querySelectorAll(e)&&document.querySelectorAll(e).forEach((e=>{e.remove()}))},s=e=>{let t;return t=e<5?"rgb(255,0,0)":e>4&&e<10?"rgb(255,165,0)":"rgb(0,128,0)",t},i=document.querySelector("#btn-send"),d=document.querySelector("#globalscore"),u=document.querySelector("#detailscore");i.addEventListener("click",(i=>{i.preventDefault();let b,h,m=(""===o()?0:new e(o(),t).globalscore)+(""===l()?0:new e(l(),r).globalscore),g=o(),v=l();document.querySelector("#gauge")&&document.querySelector("#gauge").remove(),d.insertAdjacentHTML("beforeend",'<div id="gauge" class="gauge"></div>'),n(".detail-score"),n(".marker"),n(".space"),n(".detail-score-title"),b=""===g?[{label:"Mail Subject",score:0,advice:"You don't have subject's mail !"}]:new e(g,t).detailscores,h=""===v?[{label:"Mail Body",score:0,advice:"You don't have body's mail !"}]:new e(v,r).detailscores,u.insertAdjacentHTML("beforeend",'<div class="detail-score-title mb-2 d-flex justify-content-between align-items-center"><strong>Subject </strong></div>'),b.forEach((e=>{let t=c(e);u.insertAdjacentHTML("beforeend",`<div class="detail-score mb-2 d-flex justify-content-between align-items-center"><div class="w-75"><strong>${e.label} :</strong> ${e.advice}</div> ${t}</div>`)})),u.insertAdjacentHTML("beforeend",'<div class="space"></div>'),u.insertAdjacentHTML("beforeend",'<div class="detail-score-title mb-2 d-flex justify-content-between align-items-center"><strong>Body </strong></div>'),h.forEach((e=>{let t=c(e);u.insertAdjacentHTML("beforeend",`<div class="detail-score mb-2 d-flex justify-content-between align-items-center"><div class="w-75"><strong>${e.label} :</strong> ${e.advice}</div> ${t}</div>`)})),new JustGage({id:"gauge",value:m,min:0,max:a,valueFontColor:s(m),labelFontColor:"rgb(23, 231, 217)",counter:!0,customSectors:{percents:!0,ranges:[{color:"#FF3B30",lo:0,hi:50},{color:"#3BFF30",lo:51,hi:100}]}})}))})();